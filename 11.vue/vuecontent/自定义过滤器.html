<!--过滤器-->
<!--概念：Vue.js 允许我们自定义过滤器，可被用作一些常见的文本格式化。-->
<!--过滤器可以用在两个地方：mustache 插值表达式、 v-bind表达式。-->
<!--过滤器应该被添加在 JavaScript 表达式的尾部，由“管道”符指示。-->

<!--<!DOCTYPE html>-->
<!--<html lang="en">-->

<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <meta http-equiv="X-UA-Compatible" content="ie=edge">-->
<!--    <title>Document</title>-->
<!--    <script src="node_modules/vue/dist/vue.js"></script>-->
<!--</head>-->

<!--<body>-->
<!--<div id="app">-->
<!--    &lt;!&ndash; 通过 过滤器 msgFormat 对 msg 进行过滤&ndash;&gt;-->
<!--    <p>{{ msg | msgFormat }}</p>-->
<!--</div>-->

<!--<script>-->
<!--    // 定义一个 Vue 全局的过滤器，名字叫做  msgFormat-->
<!--    Vue.filter('msgFormat', function (myMsg) {-->
<!--        // 字符串的  replace 方法，第一个参数，除了可写一个 字符串之外，还可以定义一个正则-->
<!--        //将 myMsg 中的所有`单纯`字样，修改为`邪恶`-->
<!--        return myMsg.replace(/单纯/g, '邪恶')-->
<!--    })-->

<!--    // 创建 Vue 实例，得到 ViewModel-->
<!--    var vm = new Vue({-->
<!--        el: '#app',-->
<!--        data: {-->
<!--            msg: '曾经，我也是一个单纯的少年，单纯的我，傻傻的问，谁是世界上最单纯的男人'-->
<!--        },-->
<!--        methods: {}-->
<!--    });-->
<!--</script>-->
<!--</body>-->

<!--</html>-->


<!--加参数-->
<!--<!DOCTYPE html>-->
<!--<html lang="en">-->

<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <meta http-equiv="X-UA-Compatible" content="ie=edge">-->
<!--    <title>Document</title>-->
<!--    <script src="node_modules/vue/dist/vue.js"></script>-->
<!--</head>-->

<!--<body>-->
<!--<div id="app">-->
<!--    &lt;!&ndash; 【重要】通过 过滤器 msgFormat 对 msg 进行过滤。括号里的参数代表 function中的 arg2&ndash;&gt;-->
<!--    <p>{{ msg | msgFormat('xxx','yyy') }}</p>-->

<!--</div>-->

<!--<script>-->
<!--    // 定义一个 Vue 全局的过滤器，名字叫做  msgFormat-->
<!--    Vue.filter('msgFormat', function (myMsg, arg2,arg3) {-->
<!--        // 字符串的  replace 方法：第一个参数，除了可写一个 字符串之外，还可以定义一个正则；第二个参数代表要替换为上面的xxx-->
<!--        //将 myMsg 中的所有`单纯`字样，修改为 arg2-->
<!--        return myMsg.replace(/单纯/g, arg2+arg3)-->
<!--    })-->

<!--    // 创建 Vue 实例，得到 ViewModel-->
<!--    var vm = new Vue({-->
<!--        el: '#app',-->
<!--        data: {-->
<!--            msg: '曾经，我也是一个单纯的少年，单纯的我，傻傻的问，谁是世界上最单纯的男人'-->
<!--        },-->
<!--        methods: {}-->
<!--    });-->
<!--</script>-->
<!--</body>-->

<!--</html>-->


<!--同时使用多个过滤器-->
<!--<!DOCTYPE html>-->
<!--<html lang="en">-->

<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <meta http-equiv="X-UA-Compatible" content="ie=edge">-->
<!--    <title>Document</title>-->
<!--    <script src="node_modules/vue/dist/vue.js"></script>-->
<!--</head>-->

<!--<body>-->
<!--<div id="app">-->
<!--    &lt;!&ndash; 通过 两个过滤器（msgFormat、myFilter2）对 msg 进行过滤&ndash;&gt;-->
<!--    &lt;!&ndash; 将 msg 交给第一个过滤器来处理，然后将处理的结果交给第二个过滤器来处理&ndash;&gt;-->
<!--    <p>{{ msg | msgFormat('【牛x】','【参数arg3】') | myFilter2}}</p>-->

<!--</div>-->

<!--<script>-->
<!--    // 定义一个 Vue 全局的过滤器，名字叫做  msgFormat-->
<!--    Vue.filter('msgFormat', function (myMsg, arg2, arg3) {-->
<!--        // 字符串的  replace 方法：第一个参数，除了可写一个 字符串之外，还可以定义一个正则；第二个参数代表要替换为 xxx-->
<!--        //将 myMsg 中的所有`单纯`字样，修改为`arg2 + arg3`-->
<!--        return myMsg.replace(/单纯/g, arg2 + arg3)-->
<!--    })-->

<!--    //定义第二个全局过滤器-->
<!--    Vue.filter('myFilter2', function (myMsg) {-->
<!--        //在字符串 msg 的最后面加上【后缀】-->
<!--        return myMsg + '【后缀】'-->
<!--    })-->

<!--    // 创建 Vue 实例，得到 ViewModel-->
<!--    var vm = new Vue({-->
<!--        el: '#app',-->
<!--        data: {-->
<!--            msg: '曾经，我也是一个单纯的少年，单纯的我，傻傻的问，谁是世界上最单纯的男人'-->
<!--        },-->
<!--        methods: {}-->
<!--    });-->
<!--</script>-->
<!--</body>-->

<!--</html>-->


<!--时间格式化-->
<!--<!DOCTYPE html>-->
<!--<html lang="en">-->

<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Document</title>-->
<!--    <script src="node_modules/vue/dist/vue.js"></script>-->
<!--</head>-->

<!--<body>-->
<!--<div id="app">-->
<!--    {{ time }}-->
<!--    <br /> {{ time | datefmt }}-->
<!--</div>-->

<!--<div id="app1">-->
<!--    {{ time | datefmt }}-->
<!--</div>-->
<!--</body>-->
<!--<script>-->

<!--    // 定义一个名称为 datafmt的全局过滤器-->
<!--    Vue.filter('datefmt', function (input) {-->
<!--        // 过滤器的逻辑：将input的值格式化成 yyyy-MM-dd 字符串输出-->
<!--        var res = '';-->
<!--        var year = input.getFullYear();-->
<!--        var month = input.getMonth() + 1;-->
<!--        var day = input.getDate();-->

<!--        res = year + '-' + month + '-' + day;-->

<!--        return res;-->
<!--    });-->

<!--    new Vue({-->
<!--        el: '#app1',-->
<!--        data: {-->
<!--            time: new Date()-->
<!--        }-->
<!--    })-->

<!--    new Vue({-->
<!--        el: '#app',-->
<!--        data: {-->
<!--            time: new Date()-->
<!--        }-->
<!--    });-->
<!--</script>-->

<!--</html>-->


<!--<!DOCTYPE html>-->
<!--<html lang="en">-->

<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Document</title>-->
<!--    <script src="node_modules/vue/dist/vue.js"></script>-->
<!--</head>-->

<!--<body>-->
<!--<div id="app">-->
<!--    2018-05-25T14:06:51.618Z-->
<!--    <br /> {{ '2018-05-25T14:06:51.618Z' | dateFormat }}-->
<!--</div>-->

<!--</body>-->
<!--<script>-->

<!--    Vue.filter('dateFormat', function (dateStr, pattern = '') {-->
<!--        // 根据给定的时间字符串，得到特定的时间-->
<!--        var dt = new Date(dateStr)-->

<!--        //   yyyy-mm-dd-->
<!--        var y = dt.getFullYear()-->
<!--        var m = (dt.getMonth() + 1).toString().padStart(2, '0')-->
<!--        var d = dt.getDate().toString().padStart(2, '0')-->

<!--        if (pattern.toLowerCase() === 'yyyy-mm-dd') { //如果调用过滤器的参数写的是 yyyy-mm-dd，那就按照这种  yyyy-mm-dd 的格式写-->
<!--            //这里用的是字符串模板-->
<!--            return `${y}-${m}-${d}`-->
<!--        } else { //否则（比如说调用过滤器时不写参数），后面就补上 时-分-秒-->
<!--            var hh = dt.getHours().toString().padStart(2, '0')-->
<!--            var mm = dt.getMinutes().toString().padStart(2, '0')-->
<!--            var ss = dt.getSeconds().toString().padStart(2, '0')-->

<!--            return `${y}-${m}-${d} ${hh}:${mm}:${ss} ~~~~~~~`-->
<!--        }-->
<!--    })-->

<!--    new Vue({-->
<!--        el: '#app',-->
<!--        data: {-->
<!--            time: new Date()-->
<!--        }-->
<!--    });-->
<!--</script>-->

<!--</html>-->



<!--过滤器调用的时候，采用的是就近原则，如果私有过滤器和全局过滤器名称一致了，这时候 优先调用私有过滤器。-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="node_modules/vue/dist/vue.js"></script>
</head>

<body>
<div id="app">
    {{ time }}
    <br />
    {{ time | datefmt }}
</div>

</body>
<script>

    new Vue({
        el: '#app',
        data: {
            time: new Date()
        },
        //在某一个vue对象内部定义的过滤器称之为私有过滤器，
        //这种过滤器只有在当前vue对象el指定的监管的区域有用
        filters: {
            // input是自定义过滤器的默认参数，input的值永远都是取自于 | 左边的内容
            datefmt: function (input) {
                // 定义过滤器的内容：将input的值格式化成 yyyy-MM-dd 字符串输出
                var res = '';
                var year = input.getFullYear();
                var month = input.getMonth() + 1;
                var day = input.getDate();

                res = year + '-' + month + '-' + day;

                return res;
            }
        }
    });
</script>

</html>